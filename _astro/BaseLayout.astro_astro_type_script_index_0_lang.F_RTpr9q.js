import{u as me}from"./relativeTime.Cw4JtWda.js";import{i as le}from"./isSticky.YloXe7X1.js";/*! medium-zoom 1.1.0 | MIT License | https://github.com/francoischalifour/medium-zoom */var b=Object.assign||function(m){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(m[d]=i[d])}return m},I=function(t){return t.tagName==="IMG"},se=function(t){return NodeList.prototype.isPrototypeOf(t)},k=function(t){return t&&t.nodeType===1},U=function(t){var i=t.currentSrc||t.src;return i.substr(-4).toLowerCase()===".svg"},D=function(t){try{return Array.isArray(t)?t.filter(I):se(t)?[].slice.call(t).filter(I):k(t)?[t].filter(I):typeof t=="string"?[].slice.call(document.querySelectorAll(t)).filter(I):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},ce=function(t){var i=document.createElement("div");return i.classList.add("medium-zoom-overlay"),i.style.background=t,i},ue=function(t){var i=t.getBoundingClientRect(),d=i.top,u=i.left,E=i.width,O=i.height,p=t.cloneNode(),N=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,C=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return p.removeAttribute("id"),p.style.position="absolute",p.style.top=d+N+"px",p.style.left=u+C+"px",p.style.width=E+"px",p.style.height=O+"px",p.style.transform="",p},H=function(t,i){var d=b({bubbles:!1,cancelable:!1,detail:void 0},i);if(typeof window.CustomEvent=="function")return new CustomEvent(t,d);var u=document.createEvent("CustomEvent");return u.initCustomEvent(t,d.bubbles,d.cancelable,d.detail),u},fe=function m(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=window.Promise||function(o){function n(){}o(n,n)},u=function(o){var n=o.target;if(n===A){z();return}v.indexOf(n)!==-1&&q({target:n})},E=function(){if(!(w||!e.original)){var o=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(R-o)>a.scrollOffset&&setTimeout(z,150)}},O=function(o){var n=o.key||o.keyCode;(n==="Escape"||n==="Esc"||n===27)&&z()},p=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=o;if(o.background&&(A.style.background=o.background),o.container&&o.container instanceof Object&&(n.container=b({},a.container,o.container)),o.template){var l=k(o.template)?o.template:document.querySelector(o.template);n.template=l}return a=b({},a,n),v.forEach(function(s){s.dispatchEvent(H("medium-zoom:update",{detail:{zoom:c}}))}),c},N=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return m(b({},a,o))},C=function(){for(var o=arguments.length,n=Array(o),l=0;l<o;l++)n[l]=arguments[l];var s=n.reduce(function(r,g){return[].concat(r,D(g))},[]);return s.filter(function(r){return v.indexOf(r)===-1}).forEach(function(r){v.push(r),r.classList.add("medium-zoom-image")}),S.forEach(function(r){var g=r.type,h=r.listener,L=r.options;s.forEach(function(y){y.addEventListener(g,h,L)})}),c},Z=function(){for(var o=arguments.length,n=Array(o),l=0;l<o;l++)n[l]=arguments[l];e.zoomed&&z();var s=n.length>0?n.reduce(function(r,g){return[].concat(r,D(g))},[]):v;return s.forEach(function(r){r.classList.remove("medium-zoom-image"),r.dispatchEvent(H("medium-zoom:detach",{detail:{zoom:c}}))}),v=v.filter(function(r){return s.indexOf(r)===-1}),c},F=function(o,n){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return v.forEach(function(s){s.addEventListener("medium-zoom:"+o,n,l)}),S.push({type:"medium-zoom:"+o,listener:n,options:l}),c},X=function(o,n){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return v.forEach(function(s){s.removeEventListener("medium-zoom:"+o,n,l)}),S=S.filter(function(s){return!(s.type==="medium-zoom:"+o&&s.listener.toString()===n.toString())}),c},W=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=o.target,l=function(){var r={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},g=void 0,h=void 0;if(a.container)if(a.container instanceof Object)r=b({},r,a.container),g=r.width-r.left-r.right-a.margin*2,h=r.height-r.top-r.bottom-a.margin*2;else{var L=k(a.container)?a.container:document.querySelector(a.container),y=L.getBoundingClientRect(),_=y.width,Q=y.height,V=y.left,$=y.top;r=b({},r,{width:_,height:Q,left:V,top:$})}g=g||r.width-a.margin*2,h=h||r.height-a.margin*2;var T=e.zoomedHd||e.original,ee=U(T)?g:T.naturalWidth||g,te=U(T)?h:T.naturalHeight||h,x=T.getBoundingClientRect(),oe=x.top,ne=x.left,j=x.width,M=x.height,re=Math.min(Math.max(j,ee),g)/j,ie=Math.min(Math.max(M,te),h)/M,P=Math.min(re,ie),ae=(-ne+(g-j)/2+a.margin+r.left)/P,de=(-oe+(h-M)/2+a.margin+r.top)/P,B="scale("+P+") translate3d("+ae+"px, "+de+"px, 0)";e.zoomed.style.transform=B,e.zoomedHd&&(e.zoomedHd.style.transform=B)};return new d(function(s){if(n&&v.indexOf(n)===-1){s(c);return}var r=function _(){w=!1,e.zoomed.removeEventListener("transitionend",_),e.original.dispatchEvent(H("medium-zoom:opened",{detail:{zoom:c}})),s(c)};if(e.zoomed){s(c);return}if(n)e.original=n;else if(v.length>0){var g=v;e.original=g[0]}else{s(c);return}if(e.original.dispatchEvent(H("medium-zoom:open",{detail:{zoom:c}})),R=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,w=!0,e.zoomed=ue(e.original),document.body.appendChild(A),a.template){var h=k(a.template)?a.template:document.querySelector(a.template);e.template=document.createElement("div"),e.template.appendChild(h.content.cloneNode(!0)),document.body.appendChild(e.template)}if(e.original.parentElement&&e.original.parentElement.tagName==="PICTURE"&&e.original.currentSrc&&(e.zoomed.src=e.original.currentSrc),document.body.appendChild(e.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),e.original.classList.add("medium-zoom-image--hidden"),e.zoomed.classList.add("medium-zoom-image--opened"),e.zoomed.addEventListener("click",z),e.zoomed.addEventListener("transitionend",r),e.original.getAttribute("data-zoom-src")){e.zoomedHd=e.zoomed.cloneNode(),e.zoomedHd.removeAttribute("srcset"),e.zoomedHd.removeAttribute("sizes"),e.zoomedHd.removeAttribute("loading"),e.zoomedHd.src=e.zoomed.getAttribute("data-zoom-src"),e.zoomedHd.onerror=function(){clearInterval(L),console.warn("Unable to reach the zoom image target "+e.zoomedHd.src),e.zoomedHd=null,l()};var L=setInterval(function(){e.zoomedHd.complete&&(clearInterval(L),e.zoomedHd.classList.add("medium-zoom-image--opened"),e.zoomedHd.addEventListener("click",z),document.body.appendChild(e.zoomedHd),l())},10)}else if(e.original.hasAttribute("srcset")){e.zoomedHd=e.zoomed.cloneNode(),e.zoomedHd.removeAttribute("sizes"),e.zoomedHd.removeAttribute("loading");var y=e.zoomedHd.addEventListener("load",function(){e.zoomedHd.removeEventListener("load",y),e.zoomedHd.classList.add("medium-zoom-image--opened"),e.zoomedHd.addEventListener("click",z),document.body.appendChild(e.zoomedHd),l()})}else l()})},z=function(){return new d(function(o){if(w||!e.original){o(c);return}var n=function l(){e.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(e.zoomed),e.zoomedHd&&document.body.removeChild(e.zoomedHd),document.body.removeChild(A),e.zoomed.classList.remove("medium-zoom-image--opened"),e.template&&document.body.removeChild(e.template),w=!1,e.zoomed.removeEventListener("transitionend",l),e.original.dispatchEvent(H("medium-zoom:closed",{detail:{zoom:c}})),e.original=null,e.zoomed=null,e.zoomedHd=null,e.template=null,o(c)};w=!0,document.body.classList.remove("medium-zoom--opened"),e.zoomed.style.transform="",e.zoomedHd&&(e.zoomedHd.style.transform=""),e.template&&(e.template.style.transition="opacity 150ms",e.template.style.opacity=0),e.original.dispatchEvent(H("medium-zoom:close",{detail:{zoom:c}})),e.zoomed.addEventListener("transitionend",n)})},q=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=o.target;return e.original?z():W({target:n})},K=function(){return a},G=function(){return v},J=function(){return e.original},v=[],S=[],w=!1,R=0,a=i,e={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(t)==="[object Object]"?a=t:(t||typeof t=="string")&&C(t),a=b({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},a);var A=ce(a.background);document.addEventListener("click",u),document.addEventListener("keyup",O),document.addEventListener("scroll",E),window.addEventListener("resize",z);var c={open:W,close:z,toggle:q,update:p,clone:N,attach:C,detach:Z,on:F,off:X,getOptions:K,getImages:G,getZoomedImage:J};return c};function ge(m,t){t===void 0&&(t={});var i=t.insertAt;if(!(typeof document>"u")){var d=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.type="text/css",i==="top"&&d.firstChild?d.insertBefore(u,d.firstChild):d.appendChild(u),u.styleSheet?u.styleSheet.cssText=m:u.appendChild(document.createTextNode(m))}}var pe=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";ge(pe);var ve=["280562.com","laomai.org","savouer.com"];const he=()=>{fe("#attImage, .medium-zoom-webp",{background:"rgba(0,0,0,0.75)"})},ze=()=>{const m=document.getElementById("scrollToTop"),t=document.getElementById("syIcon");m?.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),window.onscroll=function(){const i=document.body.scrollTop>50||document.documentElement.scrollTop>50;m&&(i?m.classList.add("xl:block","animate-slide-in"):m.classList.remove("animate-slide-in","xl:block")),t&&(i?(t.classList.remove("xl:bottom-8"),t.classList.add("xl:bottom-20")):(t.classList.remove("xl:bottom-20"),t.classList.add("xl:bottom-8")))}},Y=ve||[];document.addEventListener("astro:page-load",()=>{setTimeout(()=>{document.querySelectorAll("main a").forEach(i=>{const d=i.getAttribute("href");if(d&&(d.startsWith("http://")||d.startsWith("https://"))){const E=new URL(d).hostname,O=Array.isArray(Y)&&Y.some(p=>E.endsWith(p));if(E!==window.location.hostname&&!O){const p="/go/?url="+encodeURI(d);i.setAttribute("href",p)}}})},1e3),he(),me(),ze();const m=document.querySelector(".stickyHeader");m&&le(m,{callback:t=>{m?.classList.toggle("shadow-lg",t)}})});
