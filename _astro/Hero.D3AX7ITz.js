import{_ as g}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as w,c as _,a as v,e as y,f as L,o as M}from"./runtime-core.esm-bundler.T6xIsM09.js";class E{phase=0;offset=0;frequency=.001;amplitude=1;constructor(t){this.phase=t.phase||0,this.offset=t.offset||0,this.frequency=t.frequency||.001,this.amplitude=t.amplitude||1}update(){return this.phase+=this.frequency,this.offset+Math.sin(this.phase)*this.amplitude}}class b{x=0;y=0;vy=0;vx=0}class C{constructor(t,e){this.pos=e,this.spring=t.spring+.1*Math.random()-.05,this.friction=d.friction+.01*Math.random()-.005,this.nodes=[];for(let n=0;n<d.size;n++){const s=new b;s.x=this.pos.x,s.y=this.pos.y,this.nodes.push(s)}}spring=.1;friction=.01;nodes=[];update(){let t=this.spring,e=this.nodes[0];e.vx+=(this.pos.x-e.x)*t,e.vy+=(this.pos.y-e.y)*t;let n;for(let s=0;s<this.nodes.length;s++)e=this.nodes[s],0<s&&(n=this.nodes[s-1],e.vx+=(n.x-e.x)*t,e.vy+=(n.y-e.y)*t,e.vx+=n.vx*d.dampening,e.vy+=n.vy*d.dampening),e.vx*=this.friction,e.vy*=this.friction,e.x+=e.vx,e.y+=e.vy,t*=d.tension}draw(t){let e,n,s=this.nodes[0].x,r=this.nodes[0].y;t.beginPath(),t.moveTo(s,r);let a;for(a=1;a<this.nodes.length-2;a++)e=this.nodes[a],n=this.nodes[a+1],s=.5*(e.x+n.x),r=.5*(e.y+n.y),t.quadraticCurveTo(e.x,e.y,s,r);e=this.nodes[a],n=this.nodes[a+1],t.quadraticCurveTo(e.x,e.y,n.x,n.y),t.stroke(),t.closePath()}}const d={friction:.5,trails:20,size:50,dampening:.25,tension:.98},T=function(){const t=document.getElementById("canvas").getContext("2d");let e=[];const n={x:0,y:0},s=new E({phase:Math.random()*2*Math.PI,amplitude:85,frequency:.0015,offset:285});let r=!0;function a(){t.canvas.width=window.innerWidth,t.canvas.height=window.innerHeight}a();function h(){if(r){t.globalCompositeOperation="source-over",t.clearRect(0,0,t.canvas.width,t.canvas.height),t.globalCompositeOperation="lighter",t.strokeStyle="hsla("+Math.round(s.update())+",90%,50%,0.25)",t.lineWidth=1;for(let c=0;c<d.trails;c++){const i=e[c];i.update(),i.draw(t)}window.requestAnimationFrame(h)}}function u(c){function i(){e=[];for(let o=0;o<d.trails;o++)e.push(new C({spring:.45+o/d.trails*.025},n))}function l(o){"touches"in o?(n.x=o.touches[0].pageX,n.y=o.touches[0].pageY):(n.x=o.clientX,n.y=o.clientY),o.preventDefault()}function p(o){o.touches&&o.touches.length===1&&(n.x=o.touches[0].pageX,n.y=o.touches[0].pageY)}document.removeEventListener("mousemove",u),document.removeEventListener("touchstart",u),document.addEventListener("mousemove",l),document.addEventListener("touchmove",l),document.addEventListener("touchstart",p),l(c),i(),h()}document.addEventListener("mousemove",u),document.addEventListener("touchstart",u),document.body.addEventListener("orientationchange",a),window.addEventListener("resize",a),window.addEventListener("focus",()=>{r||(r=!0,h())}),window.addEventListener("blur",()=>{r=!0})},q=w({__name:"Hero",setup(m,{expose:t}){t();const e=y(null),n=["Hello, I'm LaoMai.","Welcome to my blog.","乐观、坚持；梦，近在咫尺。"],s=y(0),r=async u=>new Promise(c=>{if(!e.value)return;const i=e.value;i.innerHTML="";const l=Array.from(u),p=async o=>{if(o>=l.length){c();return}const f=document.createElement("span");f.style.transitionDelay=`${.2*o}s`,f.textContent=l[o],i.appendChild(f),await new Promise(x=>setTimeout(x,200)),p(o+1)};p(0)}),a=async()=>{if(!e.value)return;const u=e.value,c=Array.from(u.querySelectorAll("span"));for(let i=c.length-1;i>=0;i--){const l=c[i];l.classList.add("transition-out"),await new Promise(p=>setTimeout(p,200)),l.remove()}await new Promise(i=>setTimeout(i,1e3)),u.innerHTML=""};L(()=>{T(),(async()=>{for(;;){const c=n[s.value];await r(c),await new Promise(i=>setTimeout(i,5e3)),await a(),s.value=(s.value+1)%n.length}})()});const h={refWelcomeText:e,welcomeMessages:n,currentIndex:s,typeMessage:r,eraseMessage:a};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),A={class:"-z-1 relative mx-auto flex h-[calc(100vh_-_66px)] items-center justify-center"},P={ref:"refWelcomeText",class:"text-2xl font-bold opacity-100 md:text-3xl lg:text-4xl xl:text-5xl"};function B(m,t,e,n,s,r){return M(),_("div",null,[t[0]||(t[0]=v("canvas",{class:"bg-skin-base pointer-events-none absolute inset-0 h-full w-full",id:"canvas"},null,-1)),v("div",A,[v("p",P,null,512)])])}const N=g(q,[["render",B]]);export{N as default};
