import{r as F,s as U,t as N,u as Q,v as Z,w as ee,x as te,y as g,z as A,A as ne,B as Y,C as E,D as ie,p as oe,E as se,F as re,G as ae,H as ce,I as ue}from"./runtime-core.esm-bundler.DSBxuHyd.js";function O(e){return ee()?(te(e),!0):!1}const C=new WeakMap,le=(...e)=>{var t;const i=e[0],o=(t=N())==null?void 0:t.proxy;if(o==null&&!Q())throw new Error("injectLocal must be called in setup");return o&&C.has(o)&&i in C.get(o)?C.get(o)[i]:Z(...e)},de=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const fe=Object.prototype.toString,he=e=>fe.call(e)==="[object Object]",pe=()=>{};function j(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function me(e){return N()}function H(e){return Array.isArray(e)?e:[e]}function ve(e,t=!0,i){me()?F(e,i):t?e():U(e)}const L=de?window:void 0;function we(e){var t;const i=E(e);return(t=i?.$el)!=null?t:i}function $(...e){let t,i,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([i,o,r]=e,t=L):[t,i,o,r]=e,!t)return pe;i=H(i),o=H(o);const d=[],s=()=>{d.forEach(u=>u()),d.length=0},n=(u,c,h,m)=>(u.addEventListener(c,h,m),()=>u.removeEventListener(c,h,m)),a=Y(()=>[we(t),E(r)],([u,c])=>{if(s(),!u)return;const h=he(c)?{...c}:c;d.push(...i.flatMap(m=>o.map(y=>n(u,m,y,h))))},{immediate:!0,flush:"post"}),f=()=>{a(),s()};return O(f),f}function ge(){const e=g(!1),t=N();return t&&F(()=>{e.value=!0},t),e}function ye(e){const t=ge();return A(()=>(t.value,!!e()))}function Se(e,t={}){const{immediate:i=!0,fpsLimit:o=void 0,window:r=L}=t,d=g(!1),s=A(()=>o?1e3/E(o):null);let n=0,a=null;function f(h){if(!d.value||!r)return;n||(n=h);const m=h-n;if(s.value&&m<s.value){a=r.requestAnimationFrame(f);return}n=h,e({delta:m,timestamp:h}),a=r.requestAnimationFrame(f)}function u(){!d.value&&r&&(d.value=!0,n=0,a=r.requestAnimationFrame(f))}function c(){d.value=!1,a!=null&&r&&(r.cancelAnimationFrame(a),a=null)}return i&&u(),O(c),{isActive:ne(d),pause:c,resume:u}}const _e=Symbol("vueuse-ssr-width");function be(){const e=Q()?le(_e,null):null;return typeof e=="number"?e:void 0}function ke(e,t={}){const{window:i=L,ssrWidth:o=be()}=t,r=ye(()=>i&&"matchMedia"in i&&typeof i.matchMedia=="function"),d=g(typeof o=="number");let s;const n=g(!1),a=c=>{n.value=c.matches},f=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",a):s.removeListener(a))},u=ie(()=>{if(d.value){d.value=!r.value;const c=E(e).split(",");n.value=c.some(h=>{const m=h.includes("not all"),y=h.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),v=h.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let l=!!(y||v);return y&&l&&(l=o>=j(y[1])),v&&l&&(l=o<=j(v[1])),m?!l:l});return}r.value&&(f(),s=i.matchMedia(E(e)),"addEventListener"in s?s.addEventListener("change",a):s.addListener(a),n.value=s.matches)});return O(()=>{u(),f(),s=void 0}),A(()=>n.value)}function xe(e={}){const{window:t=L,initialWidth:i=Number.POSITIVE_INFINITY,initialHeight:o=Number.POSITIVE_INFINITY,listenOrientation:r=!0,includeScrollbar:d=!0,type:s="inner"}=e,n=g(i),a=g(o),f=()=>{if(t)if(s==="outer")n.value=t.outerWidth,a.value=t.outerHeight;else if(s==="visual"&&t.visualViewport){const{width:c,height:h,scale:m}=t.visualViewport;n.value=Math.round(c*m),a.value=Math.round(h*m)}else d?(n.value=t.innerWidth,a.value=t.innerHeight):(n.value=t.document.documentElement.clientWidth,a.value=t.document.documentElement.clientHeight)};f(),ve(f);const u={passive:!0};if($("resize",f,u),t&&s==="visual"&&t.visualViewport&&$(t.visualViewport,"resize",f,u),r){const c=ke("(orientation: portrait)");Y(c,()=>f())}return{width:n,height:a}}const Me=(e,t)=>{const i=e.__vccOpts||e;for(const[o,r]of t)i[o]=r;return i},D="#88888825",G=30,We=oe({__name:"Plum",setup(e,{expose:t}){t();const i=Math.PI,o=Math.PI/2,r=Math.PI/12,d=g(null),{random:s}=Math,n=ce(xe()),a=g(()=>{}),f=g(8),u=g(!1);function c(v,l=400,_=400,b){const p=v.getContext("2d"),S=window.devicePixelRatio||1,T=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1,w=b||S/T;return v.style.width=`${l}px`,v.style.height=`${_}px`,v.width=w*l,v.height=w*_,p.scale(w,w),{ctx:p,dpi:w}}function h(v=0,l=0,_=0,b=0){const p=_*Math.cos(b),S=_*Math.sin(b);return[v+p,l+S]}F(async()=>{const v=d.value,{ctx:l}=c(v,n.width,n.height),{width:_,height:b}=v;let p=[],S=[];const T=2984,w=(k,z,B,x={value:0})=>{const X=s()*f.value;if(x.value+=1,x.value>=T)return;const[M,W]=h(k,z,X,B);l.beginPath(),l.moveTo(k,z),l.lineTo(M,W),l.stroke();const J=B+s()*r,K=B-s()*r;if(M<-100||M>n.width+100||W<-100||W>n.height+100)return;const R=x.value<=G?.8:.5;s()<R&&p.push(()=>w(M,W,J,x)),s()<R&&p.push(()=>w(M,W,K,x))};let V=performance.now();const q=1e3/40;let I;I=Se(()=>{performance.now()-V<q||(S=p,p=[],V=performance.now(),S.length||(I.pause(),u.value=!0),S.forEach(k=>{s()<.5?p.push(k):k()}))},{immediate:!1});const P=()=>s()*.6+.2;a.value=()=>{I.pause(),l.clearRect(0,0,_,b),l.lineWidth=1,l.strokeStyle=D,S=[],p=[()=>w(P()*n.width,-5,o),()=>w(P()*n.width,n.height+5,-o),()=>w(-5,P()*n.height,0),()=>w(n.width+5,P()*n.height,i)],n.width<500&&(p=p.slice(0,2)),I.resume(),u.value=!1},a.value()});const m=A(()=>"radial-gradient(circle, transparent, black);"),y={r180:i,r90:o,r15:r,color:D,el:d,random:s,size:n,start:a,MIN_BRANCH:G,len:f,stopped:u,initCanvas:c,polar2cart:h,mask:m};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),Ee={ref:"el",width:"400",height:"400"};function Ie(e,t,i,o,r,d){return ue(),se("div",{class:"fixed top-0 bottom-0 left-0 right-0 pointer-events-none print:hidden",style:ae([{"z-index":"-1"},`mask-image: ${o.mask};--webkit-mask-image: ${o.mask};`])},[re("canvas",Ee,null,512)],4)}const Le=Me(We,[["render",Ie]]);export{Le as default};
