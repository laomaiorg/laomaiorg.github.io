import{r as W,s as Q,u as Y,t as $,v as X,w as J,x as w,y as K,z as j,A as U,B as H,p as Z,C as ee,D as te,E as ne,F as ie,G as oe}from"./runtime-core.esm-bundler.Br6lWJw9.js";function B(e){return X()?(J(e),!0):!1}function C(e){return typeof e=="function"?e():Y(e)}const se=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const re=Object.prototype.toString,ae=e=>re.call(e)==="[object Object]",ce=()=>{};function ue(e){return $()}function le(e,t=!0,i){ue()?W(e,i):t?e():Q(e)}const A=se?window:void 0;function de(e){var t;const i=C(e);return(t=i?.$el)!=null?t:i}function fe(...e){let t,i,s,n;if(typeof e[0]=="string"||Array.isArray(e[0])?([i,s,n]=e,t=A):[t,i,s,n]=e,!t)return ce;Array.isArray(i)||(i=[i]),Array.isArray(s)||(s=[s]);const a=[],r=()=>{a.forEach(d=>d()),a.length=0},o=(d,f,p,g)=>(d.addEventListener(f,p,g),()=>d.removeEventListener(f,p,g)),c=j(()=>[de(t),C(n)],([d,f])=>{if(r(),!d)return;const p=ae(f)?{...f}:f;a.push(...i.flatMap(g=>s.map(E=>o(d,g,E,p))))},{immediate:!0,flush:"post"}),l=()=>{c(),r()};return B(l),l}function pe(){const e=w(!1),t=$();return t&&W(()=>{e.value=!0},t),e}function he(e){const t=pe();return H(()=>(t.value,!!e()))}function me(e,t={}){const{immediate:i=!0,fpsLimit:s=void 0,window:n=A}=t,a=w(!1),r=s?1e3/s:null;let o=0,c=null;function l(p){if(!a.value||!n)return;o||(o=p);const g=p-o;if(r&&g<r){c=n.requestAnimationFrame(l);return}o=p,e({delta:g,timestamp:p}),c=n.requestAnimationFrame(l)}function d(){!a.value&&n&&(a.value=!0,o=0,c=n.requestAnimationFrame(l))}function f(){a.value=!1,c!=null&&n&&(n.cancelAnimationFrame(c),c=null)}return i&&d(),B(f),{isActive:K(a),pause:f,resume:d}}function ve(e,t={}){const{window:i=A}=t,s=he(()=>i&&"matchMedia"in i&&typeof i.matchMedia=="function");let n;const a=w(!1),r=l=>{a.value=l.matches},o=()=>{n&&("removeEventListener"in n?n.removeEventListener("change",r):n.removeListener(r))},c=U(()=>{s.value&&(o(),n=i.matchMedia(C(e)),"addEventListener"in n?n.addEventListener("change",r):n.addListener(r),a.value=n.matches)});return B(()=>{c(),o(),n=void 0}),a}function ge(e={}){const{window:t=A,initialWidth:i=Number.POSITIVE_INFINITY,initialHeight:s=Number.POSITIVE_INFINITY,listenOrientation:n=!0,includeScrollbar:a=!0,type:r="inner"}=e,o=w(i),c=w(s),l=()=>{t&&(r==="outer"?(o.value=t.outerWidth,c.value=t.outerHeight):a?(o.value=t.innerWidth,c.value=t.innerHeight):(o.value=t.document.documentElement.clientWidth,c.value=t.document.documentElement.clientHeight))};if(l(),le(l),fe("resize",l,{passive:!0}),n){const d=ve("(orientation: portrait)");j(d,()=>l())}return{width:o,height:c}}const we=(e,t)=>{const i=e.__vccOpts||e;for(const[s,n]of t)i[s]=n;return i},R="#88888825",z=30,ye=Z({__name:"Plum",setup(e,{expose:t}){t();const i=Math.PI,s=Math.PI/2,n=Math.PI/12,a=w(null),{random:r}=Math,o=ie(ge()),c=w(()=>{}),l=w(8),d=w(!1);function f(v,h=400,_=400,S){const u=v.getContext("2d"),y=window.devicePixelRatio||1,L=u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1,m=S||y/L;return v.style.width=`${h}px`,v.style.height=`${_}px`,v.width=m*h,v.height=m*_,u.scale(m,m),{ctx:u,dpi:m}}function p(v=0,h=0,_=0,S=0){const u=_*Math.cos(S),y=_*Math.sin(S);return[v+u,h+y]}W(async()=>{const v=a.value,{ctx:h}=f(v,o.width,o.height),{width:_,height:S}=v;let u=[],y=[];const L=2984,m=(k,F,T,x={value:0})=>{const q=r()*l.value;if(x.value+=1,x.value>=L)return;const[b,M]=p(k,F,q,T);h.beginPath(),h.moveTo(k,F),h.lineTo(b,M),h.stroke();const D=T+r()*n,G=T-r()*n;if(b<-100||b>o.width+100||M<-100||M>o.height+100)return;const N=x.value<=z?.8:.5;r()<N&&u.push(()=>m(b,M,D,x)),r()<N&&u.push(()=>m(b,M,G,x))};let O=performance.now();const V=1e3/40;let I;I=me(()=>{performance.now()-O<V||(y=u,u=[],O=performance.now(),y.length||(I.pause(),d.value=!0),y.forEach(k=>{r()<.5?u.push(k):k()}))},{immediate:!1});const P=()=>r()*.6+.2;c.value=()=>{I.pause(),h.clearRect(0,0,_,S),h.lineWidth=1,h.strokeStyle=R,y=[],u=[()=>m(P()*o.width,-5,s),()=>m(P()*o.width,o.height+5,-s),()=>m(-5,P()*o.height,0),()=>m(o.width+5,P()*o.height,i)],o.width<500&&(u=u.slice(0,2)),I.resume(),d.value=!1},c.value()});const g=H(()=>"radial-gradient(circle, transparent, black);"),E={r180:i,r90:s,r15:n,color:R,el:a,random:r,size:o,start:c,MIN_BRANCH:z,len:l,stopped:d,initCanvas:f,polar2cart:p,mask:g};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}}),_e={ref:"el",width:"400",height:"400"};function Se(e,t,i,s,n,a){return oe(),ee("div",{class:"fixed top-0 bottom-0 left-0 right-0 pointer-events-none print:hidden",style:ne([{"z-index":"-1"},`mask-image: ${s.mask};--webkit-mask-image: ${s.mask};`])},[te("canvas",_e,null,512)],4)}const be=we(ye,[["render",Se]]);export{be as default};
