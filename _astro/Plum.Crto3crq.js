import{a as H,b as J}from"./index.CI4QFVoo.js";import{_ as K}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as O,o as V,c as X,a as q,J as D,e as g,K as G,f as L,j as Q}from"./runtime-core.esm-bundler.Cx3gJaW-.js";const I="#88888825",T=30,U=O({__name:"Plum",setup(E,{expose:b}){b();const x=Math.PI,c=Math.PI/2,u=Math.PI/12,k=g(null),{random:a}=Math,t=G(H()),v=g(()=>{}),M=g(8),w=g(!1);function R(s,o=400,r=400,l){const e=s.getContext("2d"),i=window.devicePixelRatio||1,P=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,n=l||i/P;return s.style.width=`${o}px`,s.style.height=`${r}px`,s.width=n*o,s.height=n*r,e.scale(n,n),{ctx:e,dpi:n}}function y(s=0,o=0,r=0,l=0){const e=r*Math.cos(l),i=r*Math.sin(l);return[s+e,o+i]}L(async()=>{const s=k.value,{ctx:o}=R(s,t.width,t.height),{width:r,height:l}=s;let e=[],i=[];const P=2984,n=(d,z,S,h={value:0})=>{const A=a()*M.value;if(h.value+=1,h.value>=P)return;const[p,m]=y(d,z,A,S);o.beginPath(),o.moveTo(d,z),o.lineTo(p,m),o.stroke();const W=S+a()*u,F=S-a()*u;if(p<-100||p>t.width+100||m<-100||m>t.height+100)return;const C=h.value<=T?.8:.5;a()<C&&e.push(()=>n(p,m,W,h)),a()<C&&e.push(()=>n(p,m,F,h))};let $=performance.now();const j=1e3/40;let f;f=J(()=>{performance.now()-$<j||(i=e,e=[],$=performance.now(),i.length||(f.pause(),w.value=!0),i.forEach(d=>{a()<.5?e.push(d):d()}))},{immediate:!1});const _=()=>a()*.6+.2;v.value=()=>{f.pause(),o.clearRect(0,0,r,l),o.lineWidth=1,o.strokeStyle=I,i=[],e=[()=>n(_()*t.width,-5,c),()=>n(_()*t.width,t.height+5,-c),()=>n(-5,_()*t.height,0),()=>n(t.width+5,_()*t.height,x)],t.width<500&&(e=e.slice(0,2)),f.resume(),w.value=!1},v.value()});const N=Q(()=>"radial-gradient(circle, transparent, black);"),B={r180:x,r90:c,r15:u,color:I,el:k,random:a,size:t,start:v,MIN_BRANCH:T,len:M,stopped:w,initCanvas:R,polar2cart:y,mask:N};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}}),Y={ref:"el",width:"400",height:"400"};function Z(E,b,x,c,u,k){return V(),X("div",{class:"fixed top-0 bottom-0 left-0 right-0 pointer-events-none print:hidden",style:D([{"z-index":"-1"},`mask-image: ${c.mask};--webkit-mask-image: ${c.mask};`])},[q("canvas",Y,null,512)],4)}const se=K(U,[["render",Z]]);export{se as default};
