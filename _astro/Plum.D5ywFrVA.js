import{r as Z,w as Q,s as V,t as Y,u as ee,v as z,x as te,y as ne,z as b,A as P,B as ie,C as M,D as oe,E as se,p as ae,F as re,G as le,H as ue,I as A,J as ce,K as de}from"./runtime-core.esm-bundler.qS1Dl2UH.js";function q(e){return te()?(ne(e),!0):!1}const N=new WeakMap,fe=(...e)=>{var n;const s=e[0],a=(n=V())==null?void 0:n.proxy;if(a==null&&!Y())throw new Error("injectLocal must be called in setup");return a&&N.has(a)&&s in N.get(a)?N.get(a)[s]:ee(...e)},he=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const pe=Object.prototype.toString,me=e=>pe.call(e)==="[object Object]";function $(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function O(e){return Array.isArray(e)?e:[e]}function ve(e){return V()}function we(e,n=!0,s){ve()?z(e,s):n?e():Z(e)}function ge(e,n,s){return Q(e,n,{...s,immediate:!0})}const B=he?window:void 0;function ye(e){var n;const s=M(e);return(n=s?.$el)!=null?n:s}function R(...e){const n=[],s=()=>{n.forEach(t=>t()),n.length=0},a=(t,i,o,u)=>(t.addEventListener(i,o,u),()=>t.removeEventListener(i,o,u)),l=P(()=>{const t=O(M(e[0])).filter(i=>i!=null);return t.every(i=>typeof i!="string")?t:void 0}),m=ge(()=>{var t,i;return[(i=(t=l.value)==null?void 0:t.map(o=>ye(o)))!=null?i:[B].filter(o=>o!=null),O(M(l.value?e[1]:e[0])),O(se(l.value?e[2]:e[1])),M(l.value?e[3]:e[2])]},([t,i,o,u])=>{if(s(),!t?.length||!i?.length||!o?.length)return;const h=me(u)?{...u}:u;n.push(...t.flatMap(p=>i.flatMap(d=>o.map(f=>a(p,d,f,h)))))},{flush:"post"}),r=()=>{m(),s()};return q(s),r}function Se(){const e=b(!1),n=V();return n&&z(()=>{e.value=!0},n),e}function be(e){const n=Se();return P(()=>(n.value,!!e()))}function Me(e,n={}){const{immediate:s=!0,fpsLimit:a=void 0,window:l=B,once:m=!1}=n,r=b(!1),t=P(()=>a?1e3/M(a):null);let i=0,o=null;function u(d){if(!r.value||!l)return;i||(i=d);const f=d-i;if(t.value&&f<t.value){o=l.requestAnimationFrame(u);return}if(i=d,e({delta:f,timestamp:d}),m){r.value=!1,o=null;return}o=l.requestAnimationFrame(u)}function h(){!r.value&&l&&(r.value=!0,i=0,o=l.requestAnimationFrame(u))}function p(){r.value=!1,o!=null&&l&&(l.cancelAnimationFrame(o),o=null)}return s&&h(),q(p),{isActive:ie(r),pause:p,resume:h}}const ke=Symbol("vueuse-ssr-width");function xe(){const e=Y()?fe(ke,null):null;return typeof e=="number"?e:void 0}function _e(e,n={}){const{window:s=B,ssrWidth:a=xe()}=n,l=be(()=>s&&"matchMedia"in s&&typeof s.matchMedia=="function"),m=b(typeof a=="number"),r=b(),t=b(!1),i=o=>{t.value=o.matches};return oe(()=>{if(m.value){m.value=!l.value;const o=M(e).split(",");t.value=o.some(u=>{const h=u.includes("not all"),p=u.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),d=u.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let f=!!(p||d);return p&&f&&(f=a>=$(p[1])),d&&f&&(f=a<=$(d[1])),h?!f:f});return}l.value&&(r.value=s.matchMedia(M(e)),t.value=r.value.matches)}),R(r,"change",i,{passive:!0}),P(()=>t.value)}function Ie(e={}){const{window:n=B,initialWidth:s=Number.POSITIVE_INFINITY,initialHeight:a=Number.POSITIVE_INFINITY,listenOrientation:l=!0,includeScrollbar:m=!0,type:r="inner"}=e,t=b(s),i=b(a),o=()=>{if(n)if(r==="outer")t.value=n.outerWidth,i.value=n.outerHeight;else if(r==="visual"&&n.visualViewport){const{width:h,height:p,scale:d}=n.visualViewport;t.value=Math.round(h*d),i.value=Math.round(p*d)}else m?(t.value=n.innerWidth,i.value=n.innerHeight):(t.value=n.document.documentElement.clientWidth,i.value=n.document.documentElement.clientHeight)};o(),we(o);const u={passive:!0};if(R("resize",o,u),n&&r==="visual"&&n.visualViewport&&R(n.visualViewport,"resize",o,u),l){const h=_e("(orientation: portrait)");Q(h,()=>o())}return{width:t,height:i}}const We=(e,n)=>{const s=e.__vccOpts||e;for(const[a,l]of n)s[a]=l;return s},D="#88888825",G=30,Pe=ae({__name:"Plum",setup(e,{expose:n}){n();const s=Math.PI,a=Math.PI/2,l=Math.PI/12,m=A(null),{random:r}=Math,t=ce(Ie()),i=A(()=>{}),o=A(8),u=A(!1);function h(g,v=400,S=400,k){const c=g.getContext("2d"),y=window.devicePixelRatio||1,C=c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1,w=k||y/C;return g.style.width=`${v}px`,g.style.height=`${S}px`,g.width=w*v,g.height=w*S,c.scale(w,w),{ctx:c,dpi:w}}function p(g=0,v=0,S=0,k=0){const c=S*Math.cos(k),y=S*Math.sin(k);return[g+c,v+y]}z(async()=>{const g=m.value,{ctx:v}=h(g,t.width,t.height),{width:S,height:k}=g;let c=[],y=[];const C=2984,w=(x,L,F,_={value:0})=>{const K=r()*o.value;if(_.value+=1,_.value>=C)return;const[I,W]=p(x,L,K,F);v.beginPath(),v.moveTo(x,L),v.lineTo(I,W),v.stroke();const X=F+r()*l,U=F-r()*l;if(I<-100||I>t.width+100||W<-100||W>t.height+100)return;const H=_.value<=G?.8:.5;r()<H&&c.push(()=>w(I,W,X,_)),r()<H&&c.push(()=>w(I,W,U,_))};let j=performance.now();const J=1e3/40;let E;E=Me(()=>{performance.now()-j<J||(y=c,c=[],j=performance.now(),y.length||(E.pause(),u.value=!0),y.forEach(x=>{r()<.5?c.push(x):x()}))},{immediate:!1});const T=()=>r()*.6+.2;i.value=()=>{E.pause(),v.clearRect(0,0,S,k),v.lineWidth=1,v.strokeStyle=D,y=[],c=[()=>w(T()*t.width,-5,a),()=>w(T()*t.width,t.height+5,-a),()=>w(-5,T()*t.height,0),()=>w(t.width+5,T()*t.height,s)],t.width<500&&(c=c.slice(0,2)),E.resume(),u.value=!1},i.value()});const d=P(()=>"radial-gradient(circle, transparent, black);"),f={r180:s,r90:a,r15:l,color:D,el:m,random:r,size:t,start:i,MIN_BRANCH:G,len:o,stopped:u,initCanvas:h,polar2cart:p,mask:d};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),Ee={ref:"el",width:"400",height:"400"};function Te(e,n,s,a,l,m){return de(),re("div",{class:"fixed top-0 bottom-0 left-0 right-0 pointer-events-none print:hidden",style:ue([{"z-index":"-1"},`mask-image: ${a.mask};--webkit-mask-image: ${a.mask};`])},[le("canvas",Ee,null,512)],4)}const Ce=We(Pe,[["render",Te]]);export{Ce as default};
