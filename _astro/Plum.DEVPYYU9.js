import{a as H,b as O}from"./index.A_NxqqQl.js";import{_ as V}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as X,e as g,an as q,f as D,j as G,o as J,c as K,a as L,as as Q}from"./runtime-core.esm-bundler.DgULS6Ra.js";const I="#88888825",T=30,U=X({__name:"Plum",setup(E,{expose:b}){b();const x=Math.PI,c=Math.PI/2,u=Math.PI/12,k=g(null),{random:a}=Math,t=q(H()),v=g(()=>{}),M=g(8),w=g(!1);function R(s,n=400,r=400,l){const e=s.getContext("2d"),i=window.devicePixelRatio||1,P=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,o=l||i/P;return s.style.width=`${n}px`,s.style.height=`${r}px`,s.width=o*n,s.height=o*r,e.scale(o,o),{ctx:e,dpi:o}}function y(s=0,n=0,r=0,l=0){const e=r*Math.cos(l),i=r*Math.sin(l);return[s+e,n+i]}D(async()=>{const s=k.value,{ctx:n}=R(s,t.width,t.height),{width:r,height:l}=s;let e=[],i=[];const P=2984,o=(d,z,S,h={value:0})=>{const A=a()*M.value;if(h.value+=1,h.value>=P)return;const[p,m]=y(d,z,A,S);n.beginPath(),n.moveTo(d,z),n.lineTo(p,m),n.stroke();const W=S+a()*u,F=S-a()*u;if(p<-100||p>t.width+100||m<-100||m>t.height+100)return;const C=h.value<=T?.8:.5;a()<C&&e.push(()=>o(p,m,W,h)),a()<C&&e.push(()=>o(p,m,F,h))};let $=performance.now();const j=1e3/40;let f;f=O(()=>{performance.now()-$<j||(i=e,e=[],$=performance.now(),i.length||(f.pause(),w.value=!0),i.forEach(d=>{a()<.5?e.push(d):d()}))},{immediate:!1});const _=()=>a()*.6+.2;v.value=()=>{f.pause(),n.clearRect(0,0,r,l),n.lineWidth=1,n.strokeStyle=I,i=[],e=[()=>o(_()*t.width,-5,c),()=>o(_()*t.width,t.height+5,-c),()=>o(-5,_()*t.height,0),()=>o(t.width+5,_()*t.height,x)],t.width<500&&(e=e.slice(0,2)),f.resume(),w.value=!1},v.value()});const N=G(()=>"radial-gradient(circle, transparent, black);"),B={r180:x,r90:c,r15:u,color:I,el:k,random:a,size:t,start:v,MIN_BRANCH:T,len:M,stopped:w,initCanvas:R,polar2cart:y,mask:N};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}}),Y={ref:"el",width:"400",height:"400"};function Z(E,b,x,c,u,k){return J(),K("div",{class:"fixed top-0 bottom-0 left-0 right-0 pointer-events-none print:hidden",style:Q([{"z-index":"-1"},`mask-image: ${c.mask};--webkit-mask-image: ${c.mask};`])},[L("canvas",Y,null,512)],4)}const se=V(U,[["render",Z]]);export{se as default};
