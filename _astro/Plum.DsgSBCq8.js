import{r as Z,w as Q,s as V,t as Y,u as J,v as ee,x as z,y as te,z as S,A as W,B as ne,C as b,D as ie,E as oe,p as se,F as ae,G as re,H as le,I as A,J as ue,K as ce}from"./runtime-core.esm-bundler.UnPPv4Jb.js";function de(e,t){return J()?(te(e,t),!0):!1}const N=new WeakMap,fe=(...e)=>{var t;const o=e[0],i=(t=V())===null||t===void 0?void 0:t.proxy,n=i??J();if(n==null&&!Y())throw new Error("injectLocal must be called in setup");return n&&N.has(n)&&o in N.get(n)?N.get(n)[o]:ee(...e)},he=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ve=Object.prototype.toString,pe=e=>ve.call(e)==="[object Object]";function H(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function O(e){return Array.isArray(e)?e:[e]}function me(e){return V()}function we(e,t=!0,o){me()?z(e,o):t?e():Z(e)}function ge(e,t,o){return Q(e,t,{...o,immediate:!0})}const C=he?window:void 0;function ye(e){var t;const o=b(e);return(t=o?.$el)!==null&&t!==void 0?t:o}function R(...e){const t=(i,n,l,s)=>(i.addEventListener(n,l,s),()=>i.removeEventListener(n,l,s)),o=W(()=>{const i=O(b(e[0])).filter(n=>n!=null);return i.every(n=>typeof n!="string")?i:void 0});return ge(()=>{var i,n;return[(i=(n=o.value)===null||n===void 0?void 0:n.map(l=>ye(l)))!==null&&i!==void 0?i:[C].filter(l=>l!=null),O(b(o.value?e[1]:e[0])),O(oe(o.value?e[2]:e[1])),b(o.value?e[3]:e[2])]},([i,n,l,s],a,u)=>{if(!i?.length||!n?.length||!l?.length)return;const r=pe(s)?{...s}:s,h=i.flatMap(f=>n.flatMap(v=>l.map(c=>t(f,v,c,r))));u(()=>{h.forEach(f=>f())})},{flush:"post"})}function Se(){const e=S(!1),t=V();return t&&z(()=>{e.value=!0},t),e}function be(e){const t=Se();return W(()=>(t.value,!!e()))}function Me(e,t={}){const{immediate:o=!0,fpsLimit:i=void 0,window:n=C,once:l=!1}=t,s=S(!1),a=W(()=>i?1e3/b(i):null);let u=0,r=null;function h(c){if(!s.value||!n)return;u||(u=c);const k=c-u;if(a.value&&k<a.value){r=n.requestAnimationFrame(h);return}if(u=c,e({delta:k,timestamp:c}),l){s.value=!1,r=null;return}r=n.requestAnimationFrame(h)}function f(){!s.value&&n&&(s.value=!0,u=0,r=n.requestAnimationFrame(h))}function v(){s.value=!1,r!=null&&n&&(n.cancelAnimationFrame(r),r=null)}return o&&f(),de(v),{isActive:ne(s),pause:v,resume:f}}const ke=Symbol("vueuse-ssr-width");function xe(){const e=Y()?fe(ke,null):null;return typeof e=="number"?e:void 0}function Ie(e,t={}){const{window:o=C,ssrWidth:i=xe()}=t,n=be(()=>o&&"matchMedia"in o&&typeof o.matchMedia=="function"),l=S(typeof i=="number"),s=S(),a=S(!1),u=r=>{a.value=r.matches};return ie(()=>{if(l.value){l.value=!n.value,a.value=b(e).split(",").some(r=>{const h=r.includes("not all"),f=r.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),v=r.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let c=!!(f||v);return f&&c&&(c=i>=H(f[1])),v&&c&&(c=i<=H(v[1])),h?!c:c});return}n.value&&(s.value=o.matchMedia(b(e)),a.value=s.value.matches)}),R(s,"change",u,{passive:!0}),W(()=>a.value)}function Pe(e={}){const{window:t=C,initialWidth:o=Number.POSITIVE_INFINITY,initialHeight:i=Number.POSITIVE_INFINITY,listenOrientation:n=!0,includeScrollbar:l=!0,type:s="inner"}=e,a=S(o),u=S(i),r=()=>{if(t)if(s==="outer")a.value=t.outerWidth,u.value=t.outerHeight;else if(s==="visual"&&t.visualViewport){const{width:f,height:v,scale:c}=t.visualViewport;a.value=Math.round(f*c),u.value=Math.round(v*c)}else l?(a.value=t.innerWidth,u.value=t.innerHeight):(a.value=t.document.documentElement.clientWidth,u.value=t.document.documentElement.clientHeight)};r(),we(r);const h={passive:!0};return R("resize",r,h),t&&s==="visual"&&t.visualViewport&&R(t.visualViewport,"resize",r,h),n&&Q(Ie("(orientation: portrait)"),()=>r()),{width:a,height:u}}const _e=(e,t)=>{const o=e.__vccOpts||e;for(const[i,n]of t)o[i]=n;return o},D="#88888825",G=30,We=se({__name:"Plum",setup(e,{expose:t}){t();const o=Math.PI,i=Math.PI/2,n=Math.PI/12,l=A(null),{random:s}=Math,a=ue(Pe()),u=A(()=>{}),r=A(8),h=A(!1);function f(w,p=400,y=400,M){const d=w.getContext("2d"),g=window.devicePixelRatio||1,B=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1,m=M||g/B;return w.style.width=`${p}px`,w.style.height=`${y}px`,w.width=m*p,w.height=m*y,d.scale(m,m),{ctx:d,dpi:m}}function v(w=0,p=0,y=0,M=0){const d=y*Math.cos(M),g=y*Math.sin(M);return[w+d,p+g]}z(async()=>{const w=l.value,{ctx:p}=f(w,a.width,a.height),{width:y,height:M}=w;let d=[],g=[];const B=2984,m=(x,j,F,I={value:0})=>{const X=s()*r.value;if(I.value+=1,I.value>=B)return;const[P,_]=v(x,j,X,F);p.beginPath(),p.moveTo(x,j),p.lineTo(P,_),p.stroke();const q=F+s()*n,U=F-s()*n;if(P<-100||P>a.width+100||_<-100||_>a.height+100)return;const L=I.value<=G?.8:.5;s()<L&&d.push(()=>m(P,_,q,I)),s()<L&&d.push(()=>m(P,_,U,I))};let $=performance.now();const K=1e3/40;let E;E=Me(()=>{performance.now()-$<K||(g=d,d=[],$=performance.now(),g.length||(E.pause(),h.value=!0),g.forEach(x=>{s()<.5?d.push(x):x()}))},{immediate:!1});const T=()=>s()*.6+.2;u.value=()=>{E.pause(),p.clearRect(0,0,y,M),p.lineWidth=1,p.strokeStyle=D,g=[],d=[()=>m(T()*a.width,-5,i),()=>m(T()*a.width,a.height+5,-i),()=>m(-5,T()*a.height,0),()=>m(a.width+5,T()*a.height,o)],a.width<500&&(d=d.slice(0,2)),E.resume(),h.value=!1},u.value()});const c=W(()=>"radial-gradient(circle, transparent, black);"),k={r180:o,r90:i,r15:n,color:D,el:l,random:s,size:a,start:u,MIN_BRANCH:G,len:r,stopped:h,initCanvas:f,polar2cart:v,mask:c};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}}),Ee={ref:"el",width:"400",height:"400"};function Te(e,t,o,i,n,l){return ce(),ae("div",{class:"fixed top-0 bottom-0 left-0 right-0 pointer-events-none print:hidden",style:le([{"z-index":"-1"},`mask-image: ${i.mask};--webkit-mask-image: ${i.mask};`])},[re("canvas",Ee,null,512)],4)}const Be=_e(We,[["render",Te]]);export{Be as default};
