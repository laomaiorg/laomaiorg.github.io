import{o as W,n as Q,y as Y,z as $,A as X,B as J,r as g,C as K,w as H,D as U,E as j,d as Z,c as ee,F as te,G as ne,H as ie,b as oe}from"./runtime-core.esm-bundler.Dk-NtcL_.js";import{_ as se}from"./_plugin-vue_export-helper.DlAUqK2U.js";function B(e){return X()?(J(e),!0):!1}function C(e){return typeof e=="function"?e():Y(e)}const re=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ae=Object.prototype.toString,ce=e=>ae.call(e)==="[object Object]",le=()=>{};function ue(e){return $()}function de(e,t=!0,o){ue()?W(e,o):t?e():Q(e)}const A=re?window:void 0;function fe(e){var t;const o=C(e);return(t=o?.$el)!=null?t:o}function pe(...e){let t,o,s,n;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,s,n]=e,t=A):[t,o,s,n]=e,!t)return le;Array.isArray(o)||(o=[o]),Array.isArray(s)||(s=[s]);const a=[],r=()=>{a.forEach(d=>d()),a.length=0},i=(d,f,p,w)=>(d.addEventListener(f,p,w),()=>d.removeEventListener(f,p,w)),c=H(()=>[fe(t),C(n)],([d,f])=>{if(r(),!d)return;const p=ce(f)?{...f}:f;a.push(...o.flatMap(w=>s.map(E=>i(d,w,E,p))))},{immediate:!0,flush:"post"}),u=()=>{c(),r()};return B(u),u}function he(){const e=g(!1),t=$();return t&&W(()=>{e.value=!0},t),e}function me(e){const t=he();return j(()=>(t.value,!!e()))}function ve(e,t={}){const{immediate:o=!0,fpsLimit:s=void 0,window:n=A}=t,a=g(!1),r=s?1e3/s:null;let i=0,c=null;function u(p){if(!a.value||!n)return;i||(i=p);const w=p-i;if(r&&w<r){c=n.requestAnimationFrame(u);return}i=p,e({delta:w,timestamp:p}),c=n.requestAnimationFrame(u)}function d(){!a.value&&n&&(a.value=!0,i=0,c=n.requestAnimationFrame(u))}function f(){a.value=!1,c!=null&&n&&(n.cancelAnimationFrame(c),c=null)}return o&&d(),B(f),{isActive:K(a),pause:f,resume:d}}function we(e,t={}){const{window:o=A}=t,s=me(()=>o&&"matchMedia"in o&&typeof o.matchMedia=="function");let n;const a=g(!1),r=u=>{a.value=u.matches},i=()=>{n&&("removeEventListener"in n?n.removeEventListener("change",r):n.removeListener(r))},c=U(()=>{s.value&&(i(),n=o.matchMedia(C(e)),"addEventListener"in n?n.addEventListener("change",r):n.addListener(r),a.value=n.matches)});return B(()=>{c(),i(),n=void 0}),a}function ge(e={}){const{window:t=A,initialWidth:o=Number.POSITIVE_INFINITY,initialHeight:s=Number.POSITIVE_INFINITY,listenOrientation:n=!0,includeScrollbar:a=!0,type:r="inner"}=e,i=g(o),c=g(s),u=()=>{t&&(r==="outer"?(i.value=t.outerWidth,c.value=t.outerHeight):a?(i.value=t.innerWidth,c.value=t.innerHeight):(i.value=t.document.documentElement.clientWidth,c.value=t.document.documentElement.clientHeight))};if(u(),de(u),pe("resize",u,{passive:!0}),n){const d=we("(orientation: portrait)");H(d,()=>u())}return{width:i,height:c}}const R="#88888825",z=30,ye=Z({__name:"Plum",setup(e,{expose:t}){t();const o=Math.PI,s=Math.PI/2,n=Math.PI/12,a=g(null),{random:r}=Math,i=ie(ge()),c=g(()=>{}),u=g(8),d=g(!1);function f(v,h=400,_=400,S){const l=v.getContext("2d"),y=window.devicePixelRatio||1,L=l.webkitBackingStorePixelRatio||l.mozBackingStorePixelRatio||l.msBackingStorePixelRatio||l.oBackingStorePixelRatio||l.backingStorePixelRatio||1,m=S||y/L;return v.style.width=`${h}px`,v.style.height=`${_}px`,v.width=m*h,v.height=m*_,l.scale(m,m),{ctx:l,dpi:m}}function p(v=0,h=0,_=0,S=0){const l=_*Math.cos(S),y=_*Math.sin(S);return[v+l,h+y]}W(async()=>{const v=a.value,{ctx:h}=f(v,i.width,i.height),{width:_,height:S}=v;let l=[],y=[];const L=2984,m=(b,N,T,k={value:0})=>{const q=r()*u.value;if(k.value+=1,k.value>=L)return;const[x,M]=p(b,N,q,T);h.beginPath(),h.moveTo(b,N),h.lineTo(x,M),h.stroke();const D=T+r()*n,G=T-r()*n;if(x<-100||x>i.width+100||M<-100||M>i.height+100)return;const O=k.value<=z?.8:.5;r()<O&&l.push(()=>m(x,M,D,k)),r()<O&&l.push(()=>m(x,M,G,k))};let F=performance.now();const V=1e3/40;let I;I=ve(()=>{performance.now()-F<V||(y=l,l=[],F=performance.now(),y.length||(I.pause(),d.value=!0),y.forEach(b=>{r()<.5?l.push(b):b()}))},{immediate:!1});const P=()=>r()*.6+.2;c.value=()=>{I.pause(),h.clearRect(0,0,_,S),h.lineWidth=1,h.strokeStyle=R,y=[],l=[()=>m(P()*i.width,-5,s),()=>m(P()*i.width,i.height+5,-s),()=>m(-5,P()*i.height,0),()=>m(i.width+5,P()*i.height,o)],i.width<500&&(l=l.slice(0,2)),I.resume(),d.value=!1},c.value()});const w=j(()=>"radial-gradient(circle, transparent, black);"),E={r180:o,r90:s,r15:n,color:R,el:a,random:r,size:i,start:c,MIN_BRANCH:z,len:u,stopped:d,initCanvas:f,polar2cart:p,mask:w};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}}),_e={ref:"el",width:"400",height:"400"};function Se(e,t,o,s,n,a){return oe(),ee("div",{class:"fixed top-0 bottom-0 left-0 right-0 pointer-events-none print:hidden",style:ne([{"z-index":"-1"},`mask-image: ${s.mask};--webkit-mask-image: ${s.mask};`])},[te("canvas",_e,null,512)],4)}const Me=se(ye,[["render",Se]]);export{Me as default};
