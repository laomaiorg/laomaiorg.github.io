import{r as ee,w as Q,s as V,t as Y,u as J,v as te,x as z,y as ne,z as b,A as _,B as ie,C as M,D as oe,E as se,p as ae,F as re,G as le,H as ue,I as A,J as ce,K as de}from"./runtime-core.esm-bundler.luR3p6Kh.js";function K(e,t){return J()?(ne(e,t),!0):!1}const N=new WeakMap,fe=(...e)=>{var t;const s=e[0],l=(t=V())===null||t===void 0?void 0:t.proxy,a=l??J();if(a==null&&!Y())throw new Error("injectLocal must be called in setup");return a&&N.has(a)&&s in N.get(a)?N.get(a)[s]:te(...e)},he=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const pe=Object.prototype.toString,ve=e=>pe.call(e)==="[object Object]";function H(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function O(e){return Array.isArray(e)?e:[e]}function me(e){return V()}function we(e,t=!0,s){me()?z(e,s):t?e():ee(e)}function ge(e,t,s){return Q(e,t,{...s,immediate:!0})}const C=he?window:void 0;function ye(e){var t;const s=M(e);return(t=s?.$el)!==null&&t!==void 0?t:s}function R(...e){const t=[],s=()=>{t.forEach(n=>n()),t.length=0},l=(n,o,i,u)=>(n.addEventListener(o,i,u),()=>n.removeEventListener(o,i,u)),a=_(()=>{const n=O(M(e[0])).filter(o=>o!=null);return n.every(o=>typeof o!="string")?n:void 0}),p=ge(()=>{var n,o;return[(n=(o=a.value)===null||o===void 0?void 0:o.map(i=>ye(i)))!==null&&n!==void 0?n:[C].filter(i=>i!=null),O(M(a.value?e[1]:e[0])),O(se(a.value?e[2]:e[1])),M(a.value?e[3]:e[2])]},([n,o,i,u])=>{if(s(),!n?.length||!o?.length||!i?.length)return;const f=ve(u)?{...u}:u;t.push(...n.flatMap(h=>o.flatMap(c=>i.map(y=>l(h,c,y,f)))))},{flush:"post"}),r=()=>{p(),s()};return K(s),r}function Se(){const e=b(!1),t=V();return t&&z(()=>{e.value=!0},t),e}function be(e){const t=Se();return _(()=>(t.value,!!e()))}function Me(e,t={}){const{immediate:s=!0,fpsLimit:l=void 0,window:a=C,once:p=!1}=t,r=b(!1),n=_(()=>l?1e3/M(l):null);let o=0,i=null;function u(c){if(!r.value||!a)return;o||(o=c);const y=c-o;if(n.value&&y<n.value){i=a.requestAnimationFrame(u);return}if(o=c,e({delta:y,timestamp:c}),p){r.value=!1,i=null;return}i=a.requestAnimationFrame(u)}function f(){!r.value&&a&&(r.value=!0,o=0,i=a.requestAnimationFrame(u))}function h(){r.value=!1,i!=null&&a&&(a.cancelAnimationFrame(i),i=null)}return s&&f(),K(h),{isActive:ie(r),pause:h,resume:f}}const ke=Symbol("vueuse-ssr-width");function xe(){const e=Y()?fe(ke,null):null;return typeof e=="number"?e:void 0}function Ie(e,t={}){const{window:s=C,ssrWidth:l=xe()}=t,a=be(()=>s&&"matchMedia"in s&&typeof s.matchMedia=="function"),p=b(typeof l=="number"),r=b(),n=b(!1),o=i=>{n.value=i.matches};return oe(()=>{if(p.value){p.value=!a.value,n.value=M(e).split(",").some(i=>{const u=i.includes("not all"),f=i.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),h=i.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let c=!!(f||h);return f&&c&&(c=l>=H(f[1])),h&&c&&(c=l<=H(h[1])),u?!c:c});return}a.value&&(r.value=s.matchMedia(M(e)),n.value=r.value.matches)}),R(r,"change",o,{passive:!0}),_(()=>n.value)}function Pe(e={}){const{window:t=C,initialWidth:s=Number.POSITIVE_INFINITY,initialHeight:l=Number.POSITIVE_INFINITY,listenOrientation:a=!0,includeScrollbar:p=!0,type:r="inner"}=e,n=b(s),o=b(l),i=()=>{if(t)if(r==="outer")n.value=t.outerWidth,o.value=t.outerHeight;else if(r==="visual"&&t.visualViewport){const{width:f,height:h,scale:c}=t.visualViewport;n.value=Math.round(f*c),o.value=Math.round(h*c)}else p?(n.value=t.innerWidth,o.value=t.innerHeight):(n.value=t.document.documentElement.clientWidth,o.value=t.document.documentElement.clientHeight)};i(),we(i);const u={passive:!0};return R("resize",i,u),t&&r==="visual"&&t.visualViewport&&R(t.visualViewport,"resize",i,u),a&&Q(Ie("(orientation: portrait)"),()=>i()),{width:n,height:o}}const We=(e,t)=>{const s=e.__vccOpts||e;for(const[l,a]of t)s[l]=a;return s},D="#88888825",G=30,_e=ae({__name:"Plum",setup(e,{expose:t}){t();const s=Math.PI,l=Math.PI/2,a=Math.PI/12,p=A(null),{random:r}=Math,n=ce(Pe()),o=A(()=>{}),i=A(8),u=A(!1);function f(w,v=400,S=400,k){const d=w.getContext("2d"),g=window.devicePixelRatio||1,B=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1,m=k||g/B;return w.style.width=`${v}px`,w.style.height=`${S}px`,w.width=m*v,w.height=m*S,d.scale(m,m),{ctx:d,dpi:m}}function h(w=0,v=0,S=0,k=0){const d=S*Math.cos(k),g=S*Math.sin(k);return[w+d,v+g]}z(async()=>{const w=p.value,{ctx:v}=f(w,n.width,n.height),{width:S,height:k}=w;let d=[],g=[];const B=2984,m=(x,j,F,I={value:0})=>{const q=r()*i.value;if(I.value+=1,I.value>=B)return;const[P,W]=h(x,j,q,F);v.beginPath(),v.moveTo(x,j),v.lineTo(P,W),v.stroke();const U=F+r()*a,Z=F-r()*a;if(P<-100||P>n.width+100||W<-100||W>n.height+100)return;const L=I.value<=G?.8:.5;r()<L&&d.push(()=>m(P,W,U,I)),r()<L&&d.push(()=>m(P,W,Z,I))};let $=performance.now();const X=1e3/40;let E;E=Me(()=>{performance.now()-$<X||(g=d,d=[],$=performance.now(),g.length||(E.pause(),u.value=!0),g.forEach(x=>{r()<.5?d.push(x):x()}))},{immediate:!1});const T=()=>r()*.6+.2;o.value=()=>{E.pause(),v.clearRect(0,0,S,k),v.lineWidth=1,v.strokeStyle=D,g=[],d=[()=>m(T()*n.width,-5,l),()=>m(T()*n.width,n.height+5,-l),()=>m(-5,T()*n.height,0),()=>m(n.width+5,T()*n.height,s)],n.width<500&&(d=d.slice(0,2)),E.resume(),u.value=!1},o.value()});const c=_(()=>"radial-gradient(circle, transparent, black);"),y={r180:s,r90:l,r15:a,color:D,el:p,random:r,size:n,start:o,MIN_BRANCH:G,len:i,stopped:u,initCanvas:f,polar2cart:h,mask:c};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),Ee={ref:"el",width:"400",height:"400"};function Te(e,t,s,l,a,p){return de(),re("div",{class:"fixed top-0 bottom-0 left-0 right-0 pointer-events-none print:hidden",style:ue([{"z-index":"-1"},`mask-image: ${l.mask};--webkit-mask-image: ${l.mask};`])},[le("canvas",Ee,null,512)],4)}const Be=We(_e,[["render",Te]]);export{Be as default};
