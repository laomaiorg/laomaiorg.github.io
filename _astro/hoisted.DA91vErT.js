import"./hoisted.rrRgbaP2.js";import{_ as m}from"./preload-helper.CLcXU_4U.js";class f{phase=0;offset=0;frequency=.001;amplitude=1;constructor(t){this.phase=t.phase||0,this.offset=t.offset||0,this.frequency=t.frequency||.001,this.amplitude=t.amplitude||1}update(){return this.phase+=this.frequency,this.offset+Math.sin(this.phase)*this.amplitude}}class y{x=0;y=0;vy=0;vx=0}class g{constructor(t,e){this.pos=e,this.spring=t.spring+.1*Math.random()-.05,this.friction=r.friction+.01*Math.random()-.005,this.nodes=[];for(let n=0;n<r.size;n++){const s=new y;s.x=this.pos.x,s.y=this.pos.y,this.nodes.push(s)}}spring=.1;friction=.01;nodes=[];update(){let t=this.spring,e=this.nodes[0];e.vx+=(this.pos.x-e.x)*t,e.vy+=(this.pos.y-e.y)*t;let n;for(let s=0;s<this.nodes.length;s++)e=this.nodes[s],0<s&&(n=this.nodes[s-1],e.vx+=(n.x-e.x)*t,e.vy+=(n.y-e.y)*t,e.vx+=n.vx*r.dampening,e.vy+=n.vy*r.dampening),e.vx*=this.friction,e.vy*=this.friction,e.x+=e.vx,e.y+=e.vy,t*=r.tension}draw(t){let e,n,s=this.nodes[0].x,a=this.nodes[0].y;t.beginPath(),t.moveTo(s,a);let i;for(i=1;i<this.nodes.length-2;i++)e=this.nodes[i],n=this.nodes[i+1],s=.5*(e.x+n.x),a=.5*(e.y+n.y),t.quadraticCurveTo(e.x,e.y,s,a);e=this.nodes[i],n=this.nodes[i+1],t.quadraticCurveTo(e.x,e.y,n.x,n.y),t.stroke(),t.closePath()}}const r={friction:.5,trails:20,size:50,dampening:.25,tension:.98},w=function(){const t=document.getElementById("canvas").getContext("2d");let e=[];const n={x:0,y:0},s=new f({phase:Math.random()*2*Math.PI,amplitude:85,frequency:.0015,offset:285});let a=!0;function i(){t.canvas.width=window.innerWidth,t.canvas.height=window.innerHeight}i();function l(){if(a){t.globalCompositeOperation="source-over",t.clearRect(0,0,t.canvas.width,t.canvas.height),t.globalCompositeOperation="lighter",t.strokeStyle="hsla("+Math.round(s.update())+",90%,50%,0.25)",t.lineWidth=1;for(let d=0;d<r.trails;d++){const u=e[d];u.update(),u.draw(t)}window.requestAnimationFrame(l)}}function h(d){function u(){e=[];for(let o=0;o<r.trails;o++)e.push(new g({spring:.45+o/r.trails*.025},n))}function v(o){"touches"in o?(n.x=o.touches[0].pageX,n.y=o.touches[0].pageY):(n.x=o.clientX,n.y=o.clientY),o.preventDefault()}function p(o){o.touches&&o.touches.length===1&&(n.x=o.touches[0].pageX,n.y=o.touches[0].pageY)}document.removeEventListener("mousemove",h),document.removeEventListener("touchstart",h),document.addEventListener("mousemove",v),document.addEventListener("touchmove",v),document.addEventListener("touchstart",p),v(d),u(),l()}document.addEventListener("mousemove",h),document.addEventListener("touchstart",h),document.body.addEventListener("orientationchange",i),window.addEventListener("resize",i),window.addEventListener("focus",()=>{a||(a=!0,l())}),window.addEventListener("blur",()=>{a=!0})};document.addEventListener("astro:page-load",()=>{document.getElementById("canvas")&&w();const t=document.getElementById("typedElement");t&&m(async()=>{const{default:e}=await import("./typed.module.vdGjvGsj.js");return{default:e}},[]).then(({default:e})=>{const n={strings:["Hello, I'm LaoMai.","Welcome to my blog!","乐观、坚持；梦，近在咫尺。"],typeSpeed:80,backSpeed:50,backDelay:5e3,loop:!0,showCursor:!0,cursorChar:"|"},s=new e(t,n);window.addEventListener("astro:before-swap",()=>{s.destroy()})})});
