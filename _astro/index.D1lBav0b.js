import{t as $,r as V,b as C,e as J,n as P,u as U,f as X,g as q,w as _,h as Z,i as ee,j as F,s as te,k as ne}from"./runtime-core.esm-bundler.8MhisWn9.js";function z(e){return Z()?(ee(e),!0):!1}function I(e){return typeof e=="function"?e():U(e)}const re=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ie=Object.prototype.toString,oe=e=>ie.call(e)==="[object Object]",x=()=>{};function ae(e,t){function r(...o){return new Promise((n,a)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(n).catch(a)})}return r}const B=e=>e();function se(e=B){const t=C(!0);function r(){t.value=!1}function o(){t.value=!0}const n=(...a)=>{t.value&&e(...a)};return{isActive:V(t),pause:r,resume:o,eventFilter:n}}function ue(e){return q()}function le(...e){if(e.length!==1)return $(...e);const t=e[0];return typeof t=="function"?V(X(()=>({get:t,set:x}))):C(t)}function ce(e,t,r={}){const{eventFilter:o=B,...n}=r;return _(e,ae(o,t),n)}function fe(e,t,r={}){const{eventFilter:o,...n}=r,{eventFilter:a,pause:l,resume:s,isActive:u}=se(o);return{stop:ce(e,t,{...n,eventFilter:a}),pause:l,resume:s,isActive:u}}function R(e,t=!0,r){ue()?J(e,r):t?e():P(e)}function G(e){var t;const r=I(e);return(t=r?.$el)!=null?t:r}const O=re?window:void 0;function j(...e){let t,r,o,n;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,o,n]=e,t=O):[t,r,o,n]=e,!t)return x;Array.isArray(r)||(r=[r]),Array.isArray(o)||(o=[o]);const a=[],l=()=>{a.forEach(d=>d()),a.length=0},s=(d,f,v,h)=>(d.addEventListener(f,v,h),()=>d.removeEventListener(f,v,h)),u=_(()=>[G(t),I(n)],([d,f])=>{if(l(),!d)return;const v=oe(f)?{...f}:f;a.push(...r.flatMap(h=>o.map(w=>s(d,h,w,v))))},{immediate:!0,flush:"post"}),c=()=>{u(),l()};return z(c),c}function de(){const e=C(!1),t=q();return t&&J(()=>{e.value=!0},t),e}function pe(e){const t=de();return F(()=>(t.value,!!e()))}function be(e,t={}){const{immediate:r=!0,fpsLimit:o=void 0,window:n=O}=t,a=C(!1),l=o?1e3/o:null;let s=0,u=null;function c(v){if(!a.value||!n)return;s||(s=v);const h=v-s;if(l&&h<l){u=n.requestAnimationFrame(c);return}s=v,e({delta:h,timestamp:v}),u=n.requestAnimationFrame(c)}function d(){!a.value&&n&&(a.value=!0,s=0,u=n.requestAnimationFrame(c))}function f(){a.value=!1,u!=null&&n&&(n.cancelAnimationFrame(u),u=null)}return r&&d(),z(f),{isActive:V(a),pause:f,resume:d}}function K(e,t={}){const{window:r=O}=t,o=pe(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let n;const a=C(!1),l=c=>{a.value=c.matches},s=()=>{n&&("removeEventListener"in n?n.removeEventListener("change",l):n.removeListener(l))},u=ne(()=>{o.value&&(s(),n=r.matchMedia(I(e)),"addEventListener"in n?n.addEventListener("change",l):n.addListener(l),a.value=n.matches)});return z(()=>{u(),s(),n=void 0}),a}const D=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W="__vueuse_ssr_handlers__",me=he();function he(){return W in D||(D[W]=D[W]||{}),D[W]}function Q(e,t){return me[e]||t}function ve(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ge={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},H="vueuse-storage";function we(e,t,r,o={}){var n;const{flush:a="pre",deep:l=!0,listenToStorageChanges:s=!0,writeDefaults:u=!0,mergeDefaults:c=!1,shallow:d,window:f=O,eventFilter:v,onError:h=i=>{console.error(i)},initOnMounted:w}=o,g=(d?te:C)(typeof t=="function"?t():t);if(!r)try{r=Q("getDefaultStorage",()=>{var i;return(i=O)==null?void 0:i.localStorage})()}catch(i){h(i)}if(!r)return g;const S=I(t),N=ve(S),b=(n=o.serializer)!=null?n:ge[N],{pause:L,resume:p}=fe(g,()=>M(g.value),{flush:a,deep:l,eventFilter:v});f&&s&&R(()=>{j(f,"storage",y),j(f,H,T),w&&y()}),w||y();function A(i,m){f&&f.dispatchEvent(new CustomEvent(H,{detail:{key:e,oldValue:i,newValue:m,storageArea:r}}))}function M(i){try{const m=r.getItem(e);if(i==null)A(m,null),r.removeItem(e);else{const E=b.write(i);m!==E&&(r.setItem(e,E),A(m,E))}}catch(m){h(m)}}function k(i){const m=i?i.newValue:r.getItem(e);if(m==null)return u&&S!=null&&r.setItem(e,b.write(S)),S;if(!i&&c){const E=b.read(m);return typeof c=="function"?c(E,S):N==="object"&&!Array.isArray(E)?{...S,...E}:E}else return typeof m!="string"?m:b.read(m)}function y(i){if(!(i&&i.storageArea!==r)){if(i&&i.key==null){g.value=S;return}if(!(i&&i.key!==e)){L();try{i?.newValue!==b.write(g.value)&&(g.value=k(i))}catch(m){h(m)}finally{i?P(p):p()}}}}function T(i){y(i.detail)}return g}function Y(e){return K("(prefers-color-scheme: dark)",e)}function ye(e={}){const{selector:t="html",attribute:r="class",initialValue:o="auto",window:n=O,storage:a,storageKey:l="vueuse-color-scheme",listenToStorageChanges:s=!0,storageRef:u,emitAuto:c,disableTransition:d=!0}=e,f={auto:"",light:"light",dark:"dark",...e.modes||{}},v=Y({window:n}),h=F(()=>v.value?"dark":"light"),w=u||(l==null?le(o):we(l,o,a,{window:n,listenToStorageChanges:s})),g=F(()=>w.value==="auto"?h.value:w.value),S=Q("updateHTMLAttrs",(p,A,M)=>{const k=typeof p=="string"?n?.document.querySelector(p):G(p);if(!k)return;let y;if(d&&(y=n.document.createElement("style"),y.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),n.document.head.appendChild(y)),A==="class"){const T=M.split(/\s/g);Object.values(f).flatMap(i=>(i||"").split(/\s/g)).filter(Boolean).forEach(i=>{T.includes(i)?k.classList.add(i):k.classList.remove(i)})}else k.setAttribute(A,M);d&&(n.getComputedStyle(y).opacity,document.head.removeChild(y))});function N(p){var A;S(t,r,(A=f[p])!=null?A:p)}function b(p){e.onChanged?e.onChanged(p,N):N(p)}_(g,b,{flush:"post",immediate:!0}),R(()=>b(g.value));const L=F({get(){return c?w.value:g.value},set(p){w.value=p}});try{return Object.assign(L,{store:w,system:h,state:g})}catch{return L}}function Ae(e={}){const{valueDark:t="dark",valueLight:r="",window:o=O}=e,n=ye({...e,onChanged:(s,u)=>{var c;e.onChanged?(c=e.onChanged)==null||c.call(e,s==="dark",u,s):u(s)},modes:{dark:t,light:r}}),a=F(()=>n.system?n.system.value:Y({window:o}).value?"dark":"light");return F({get(){return n.value==="dark"},set(s){const u=s?"dark":"light";a.value===u?n.value="auto":n.value=u}})}function Ee(e={}){const{window:t=O,initialWidth:r=Number.POSITIVE_INFINITY,initialHeight:o=Number.POSITIVE_INFINITY,listenOrientation:n=!0,includeScrollbar:a=!0}=e,l=C(r),s=C(o),u=()=>{t&&(a?(l.value=t.innerWidth,s.value=t.innerHeight):(l.value=t.document.documentElement.clientWidth,s.value=t.document.documentElement.clientHeight))};if(u(),R(u),j("resize",u,{passive:!0}),n){const c=K("(orientation: portrait)");_(c,()=>u())}return{width:l,height:s}}export{Ee as a,be as b,Ae as u};
